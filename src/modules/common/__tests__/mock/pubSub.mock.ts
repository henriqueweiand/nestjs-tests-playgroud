const pubsubMessageData =
  'eyJuYW1lIjoiU2FsZVJlZ2lzdGVyZWQiLCJwYXlsb2FkIjp7ImF0dGVuZGFudElkIjoiMmJiOTIzOTUtYTIyNy00ZjRmLTk3YzEtYjgxNDY2ZWUwMDRmIiwic3RvcmVJZCI6ImViMjMyOWJmLTQyNGYtNDY4Zi1hOGZmLWUwNzRhOWMxYTQzMSIsInByb2dyYW1JZCI6ImJhYmNjMDJkLTU3OTMtNDEwMS04ZTdjLWE5YzQ3NjMyZjQxNSIsIlJGSUQiOiJCM0NGNkNDRkZGMUYxMzQwIiwiY3VzdG9tZXJJZCI6IjAiLCJzdG9yZU51bWJlciI6IjE1MjQyNjY0MDAwMTM0IiwiZ2xvYmFsSWQiOiI5NjZkNzVkZi0wZDM1LTQ3OWEtYTY3ZC1lZDVkZTY1M2MzODciLCJ2YWx1ZVRvdGFsIjoxMiwicXVhbnRpdHlUb3RhbCI6My42MzcsInJlZ2lzdGVyRGF0ZUNsaWVudCI6IjIwMjAtMDMtMjdUMTE6NTk6NDguMDAwWiIsInJlZ2lzdGVyU2FsZUlkIjoiMTUyNDI2NjQwMDAxMzQyMDIwMDMyNzExNTk0ODkzNDAwODc2NyIsImZpZGVsaXR5Ijp0cnVlLCJwcm9kdWN0cyI6W3sidmFsdWUiOiIzLjI5OSIsInByb2R1Y3RJZCI6Ijk2YjliYTFiLTlhMTctNGNiMS04MWMzLTVhNjI0ZmQ0MjhkYyIsInF1YW50aXR5IjoiMy42MzciLCJnbG9iYWxJZF9zYWxlIjoiOTY2ZDc1ZGYtMGQzNS00NzlhLWE2N2QtZWQ1ZGU2NTNjMzg3IiwiaWQiOiIwZDk5Yjk5Yi01ZGYxLTRhNTYtYTc5OS04NjNlMjNmN2ZiZTUiLCJjcmVhdGVkQXQiOiIyMDIwLTAzLTI3VDE1OjA0OjUzLjI0MloifV0sInN1bW1hcnlEYXRlIjpudWxsLCJpZCI6ImExNTg2MjY2LTFhOWUtNDVjOC1iOWUyLTU5YTRjMDUyNTliOSIsImNyZWF0ZWRBdCI6IjIwMjAtMDMtMjdUMTU6MDQ6NTMuMjQyWiJ9LCJ0aW1lc3RhbXAiOjE1ODUzMjE0OTMyNTQsInN0b3JlIjp7ImlkIjoiZWIyMzI5YmYtNDI0Zi00NjhmLWE4ZmYtZTA3NGE5YzFhNDMxIiwiY3JlYXRlRGF0ZSI6IjIwMjAtMDItMTRUMTM6NTc6NDYuMTU3WiIsInVwZGF0ZURhdGUiOiIyMDIwLTAyLTE0VDEzOjU3OjQ2LjE1N1oiLCJkYXRhVmVyc2lvbiI6MSwiZG9jdW1lbnQiOiIxNTI0MjY2NDAwMDEzNCIsImNvbXBhbnlOYW1lIjoiUGlyZXMgSXRhYmlyYSIsImNvbXBhbnlCdXNpbmVzc05hbWUiOiJQaXJlcyBJdGFiaXJhIiwiemlwQ29kZSI6IjM1OTAwLTIwOSIsInBob25lTnVtYmVyIjoiKDMxKSAzODM0LTU0NTQiLCJlbWFpbCI6ImRsYWdlQGZhbWlsaWFwaXJlcy5jb20uYnIiLCJuYW1lIjoiUGlyZXMgSXRhYmlyYSIsInByb2dyYW1JZCI6ImJhYmNjMDJkLTU3OTMtNDEwMS04ZTdjLWE5YzQ3NjMyZjQxNSIsInR5cGUiOm51bGwsImNhdGVnb3J5IjpudWxsLCJrbUZyb21Eb3dudG93biI6IjAiLCJrbUZyb21IaWdod2F5IjoiMCIsInBvcHVsYXRpb24iOjAsInJlZ2lzdGVyRGF0ZSI6IjIwMjAtMDItMTQiLCJkYXRlVGltZU9wZW5pbmciOiIyMDIwLTAyLTAyIn0sImN1c3RvbWVyIjp7ImlkIjoiMCJ9LCJhdHRlbmRhbnQiOnsiY3JlYXRlRGF0ZSI6IjIwMTgtMDUtMjlUMDk6NTY6MDkuMDAwWiIsInVwZGF0ZURhdGUiOiIyMDIwLTAzLTA2VDA4OjEwOjI0Ljg1OFoiLCJpZF9hY2NvdW50c19yZWdpc3RlcmVkIjoic3RyaW5nIiwiZGF0YVZlcnNpb24iOjEsImlkIjoiMmJiOTIzOTUtYTIyNy00ZjRmLTk3YzEtYjgxNDY2ZWUwMDRmIiwibmFtZSI6IkNhcmxvcyBFZHVhcmRvIiwiZW1haWwiOiJjYXJsb3MuZWR1YXJkb0BlbWFpbC5jb20iLCJpZF9hY2NvdW50cyI6InN0cmluZyIsImRvY3VtZW50Ijoic3RyaW5nIiwicmZpZCI6IkIzQ0Y2Q0NGRkYxRjEzNDAiLCJpZF9zdG9yZSI6ImViMjMyOWJmLTQyNGYtNDY4Zi1hOGZmLWUwNzRhOWMxYTQzMSIsInBob25lIjoic3RyaW5nIiwiY2VsbHBob25lIjoiIiwiZ2VuZGVyIjpudWxsLCJhZG1pdHRlZF93aGVuIjoiMjAyMC0wMi0yOFQxMTo0MjoxOS44NTlaIiwiZ290X291dF93aGVuIjpudWxsLCJpbmFjdGl2ZV9zaW5jZSI6bnVsbCwiaW1hZ2VCYXNlNjQiOiIiLCJyZXdhcmRHb2FsIjpbXSwiYWN0aXZlIjp0cnVlfX0=';

class SubscriptionReturn {
  on(event: string, func: (message) => void) {
    const message = {
      data: pubsubMessageData,
      ack: jest.fn().mockResolvedValue(true),
    };
    func(message);
  }
}

export class PubSub {
  subscription = jest.fn().mockReturnValue(new SubscriptionReturn());

  topic = jest.fn().mockReturnValue({
    publish: jest.fn().mockResolvedValue(true),
  });
}
